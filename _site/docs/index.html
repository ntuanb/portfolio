<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta http-equiv="ScreenOrientation" content="autoRotate:disabled">
        <title>Tuan Bui</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="description" content="Hi, I'm Tuan, a Web developer from Melbourne, Australia. I build and maintain websites. I love javascript, typescript and automation.">
        <link rel="canonical" href="https://tuanb.me/">
        
        <link rel="shortcut icon" href="imgs/favicon.png" />
        
        <link rel="stylesheet" href="css/front.css">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">
    </head>
    <body>

        
            <div class="cinemagraph">
                <video
                    playsinline autoplay muted loop height="100%"
                />
            </div>
        

        <div id="particles" class="particles"></div>

        <div class="content">
            <div class="content__animate">

            

            

            <h1>Tuan</h1>

            <p class="hide-mobile hide-landscape">Get in touch</p>
            <ul>
                
                <li class="button button--circle"><a class="fa fa-1x fa-envelope" href="mailto:ntuanb@gmail.com" target="_blank"></a></li>
                

                
                <li class="button button--circle"><a class="fa fa-1x fa-linkedin" href="https://linkedin.com/in/tuan-bui-0502a366" target="_blank"></a></li>
                
            </ul>

            <p class="hide-mobile  hide-landscape">Check these out</p>
            <ul>
                
                <li class="button button--circle"><a href="https://soundcloud.com/ntuanb" target="_blank"><span class="fa fa-1x fa-soundcloud"></span> Soundcloud</a></li>
                

                
                <li class="button button--circle"><a class="fa fa-1x fa-github" href="https://github.com/ntuanb" target="_blank"></a></li>
                

                

                
                <li class="button button--circle"><a class="fa fa-1x fa-codepen" href="https://codepen.io/ntuanb" target="_blank"></a></li>
                

                

                

                

                

                

                

                

                

                

                

                

                

                

                

                
                <li class="button button--circle"><a class="fa fa-1x fa-tags" href="http://blog.tuanb.me" target="_blank"></a></li>
                

                

                
                <li class="button button--circle"><a class="fa fa-1x fa-jsfiddle" href="http://jsfiddle.net/user/ntuanb/fiddles/" target="_blank"></a></li>
                

                <li class="button button--circle"><a class="fa fa-1x fa-code" href="https://www.codewars.com/users/ntuanb" target="_blank"></a></li>

                <li class="button button--circle"><a class="fa fa-1x fa-graduation-cap" href="https://classrooms.tuanb.me"></a></li>

            </ul>

            <div class="music">
                
                    <div class="spotify">
                        <div class="spotify__source"></div>
                        <div class="marquee">
                            <a class="spotify__track" target="_blank"></a>
                        </div>
                    </div>
                
            </div>

        </div>
    </div>

    <div class="preview">
    </div>

    <div class="news"></div>

    <div class="weather"></div>

    <a href="#" onclick="getBackground()" class="refresh hide-mobile hide-landscape">
        <div class="loader"></div>
    </a>

    <div class="apis">
        <span>Unsplash, Reddit, Spotify, OpenWeather</span>
    </div>

    <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

        ga('create', 'UA-90397102-2', 'auto');
        ga('send', 'pageview');
    </script>

    <script defer src="https://cdn.jsdelivr.net/npm/particles.js@2.0.0/particles.min.js"></script>
    <script defer>
        var done = function() {
            setTimeout(function() {
                var doneHtml = document.getElementsByClassName('content__animate');

                doneHtml[0].style.transform = 'scale(1)';
            })
        }

        // Background
        console.log('Backgrounds generated from Unsplash.');
        var isOverloaded = false;
        var getBackground = function() {
            fetch('https://api.unsplash.com/photos/random?featured=true&content_filter=low&client_id=a43610a5396ae03cbfe517d327a8e4e7222429dda7ff053921301367b8f3d6cf')
                .then(function(response) {
                    if (response.status === 200) {
                        return response.json();
                    } else {
                        isOverloaded = true;
                        setTimeout(() => {
                            particlesJS.load('particles', 'js/particles.json');
                        })
                    };
                })
                .then(function(json) {
                    if (json) document.body.style.backgroundImage = 'url(' + json.urls.regular + ')';
                });
        }

        var interval = setInterval(function() {
            if (isOverloaded) {
                clearInterval(interval);
                return;
            }

            getBackground();
        }, 60000);

        getBackground();

        var getSong = function() {
            fetch('https://api.tuanb.me/spotify')
                .then(function(response) {
                    if (response && response.status !== 200) return done();
                    return response.json()
                })
                .then(function(json) {
                    if (!json) return done();

                    var track = json[0];
                    var title = track.title;

                    var spotifyHtml = document.getElementsByClassName('spotify__track');
                    var titleHtml = title;
                    spotifyHtml[0].innerHTML = titleHtml

                    var musicHtml = document.getElementsByClassName('music');

                    if (!track.preview_url) return done();

                    var playHtml = document.getElementsByClassName('spotify__source');
                    playHtml[0].innerHTML = `
                    <div>
                        <audio id="player" class="player" loop>
                            <source src="${track.preview_url}" type="audio/mpeg"/>
                        </audio>
                        <a href="${track.external_urls.spotify}" title="${track.title}" class="music__album">
                            <img src="${track.album.images[1].url}" height="50" width="50" />
                        </a>
                        <div style="padding: 0.75rem;"> 
                            <span class="fa fa-2x fa-play spotify__play" onclick="document.getElementsByClassName('spotify__play')[0].style.display = 'none'; document.getElementsByClassName('spotify__pause')[0].style.display = 'block'; document.getElementsByClassName('player')[0].play(); "></span>
                            <span class="fa fa-2x fa-pause spotify__pause" style="display: none;" onclick="document.getElementsByClassName('spotify__pause')[0].style.display = 'none'; document.getElementsByClassName('spotify__play')[0].style.display = 'block'; document.getElementsByClassName('player')[0].pause()";"></span>
                        </div>
                    </div>
                    `

                    return done();
                })
                .catch(() => {
                    return done();
                })
        }

        getSong();

        var getReddit = function() {
            fetch('https://api.tuanb.me/reddit')
                .then(function(response) {
                    if (response && response.status !== 200) return;
                    return response.json()
                })
                .then(function(json) {
                    if (!json) return;

                    var html = '';

                    json.slice(0, 3).forEach((item) => {
                        var h = `
                            <a href="${item.permalink}" target="_blank" title="${item.title}">
                                <span class="fa fa-1x fa-newspaper-o" style="padding-right: 0.5rem; "></span><span>${item.title}</span>
                            </a>
                        `
                        html += h
                    })

                    var newsHtml = document.getElementsByClassName('news');
                    newsHtml[0].innerHTML = html;
                    newsHtml[0].style.transform = 'translate(0, 0%)';
                })
        }

        getReddit();

        var getWeather = function() {
            fetch('https://api.tuanb.me/weather')
                .then(function(response) {
                    if (response && response.status !== 200) return;
                    return response.json()
                })
                .then(function(json) {
                    if (!json) return;

                    var h = `
                        <div>${json.main.temp} &deg;</div>
                        <div>${json.name}</div>
                    `

                    var html = document.getElementsByClassName('weather');
                    html[0].innerHTML = h
                    html[0].style.transform = 'translate(0, 0%)';
                })
        }

        getWeather();
                
    </script>

    </body>
</html>
